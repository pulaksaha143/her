<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Favorite Human ‚ù§Ô∏è</title>
    <!-- Open Source Libraries (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        body {
            background: linear-gradient(180deg, #fff5f5 0%, #fed7e2 100%);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            overflow: hidden;
        }
        .heart-pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); filter: drop-shadow(0 0 0px rgba(244, 63, 94, 0)); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 25px rgba(244, 63, 94, 0.5)); }
            100% { transform: scale(1); filter: drop-shadow(0 0 0px rgba(244, 63, 94, 0)); }
        }
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }
        .floating-emoji {
            position: absolute;
            pointer-events: none;
            animation: fly-up 1.8s forwards ease-out;
            z-index: 50;
        }
        @keyframes fly-up {
            0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-250px) scale(2) rotate(45deg); opacity: 0; }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 select-none">

    <div class="text-center max-w-sm w-full space-y-8">
        
        <!-- Status Badge -->
        <div class="inline-flex items-center space-x-2 bg-white/50 px-4 py-1.5 rounded-full border border-rose-200 shadow-sm">
            <span class="flex h-2 w-2">
                <span class="animate-ping absolute inline-flex h-2 w-2 rounded-full bg-rose-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-rose-500"></span>
            </span>
            <span class="text-[11px] font-bold uppercase tracking-widest text-rose-600">Long Distance Forgiveness Mode</span>
        </div>

        <!-- Message Box -->
        <div class="glass min-h-[160px] flex items-center justify-center p-8 rounded-[2.5rem] shadow-2xl border-white/50 relative overflow-hidden">
            <h1 id="message" class="text-xl font-semibold text-rose-700 leading-relaxed transition-all duration-300">
                I miss you so much...<br>Tap the heart for a surprise
            </h1>
        </div>

        <!-- The Big Heart -->
        <div class="relative flex justify-center py-4">
            <button 
                id="heart-btn"
                onclick="handleTap(event)" 
                class="heart-pulse bg-white p-12 rounded-full shadow-2xl shadow-rose-200 border-[10px] border-white active:scale-90 transition-transform focus:outline-none"
            >
                <span class="text-7xl">‚ù§Ô∏è</span>
            </button>
        </div>

        <!-- Forgiveness Progress -->
        <div class="space-y-3 px-4">
            <div class="w-full bg-rose-200/40 rounded-full h-4 overflow-hidden shadow-inner border border-rose-100">
                <div id="progress" class="bg-gradient-to-r from-rose-400 to-pink-500 h-4 w-0 transition-all duration-1000 ease-out"></div>
            </div>
            <div class="flex justify-between items-center text-[11px] font-black text-rose-500 uppercase tracking-widest px-1">
                <span>Distance: ‚ôæÔ∏è</span>
                <span>Forgiveness: <span id="percent">0</span>%</span>
            </div>
        </div>

    </div>

    <script>
        const messages = [
            "I'm so sorry for being difficult today. Distance is hard, and I hate being the reason you're sad. ‚ù§Ô∏è",
            "I wish I could teleport to your room right now just to give you a hug. ü´Ç",
            "Even with all these miles between us, you're the only one I want to talk to. ‚ú®",
            "I miss your face and your voice so much today. I'm sorry for making things harder. ü•∞",
            "I promise to make up for today with the biggest hug when I finally see you. ‚úàÔ∏è",
            "You're the first thing I think of when I wake up, even when we're miles apart. üåô",
            "No amount of distance can change how much you mean to me. I'm sorry. ‚ù§Ô∏è",
            "I'm counting down the days until I can hold your hand again. ‚è≥",
            "You're my favorite person in the world, no matter how far away you are. üì±",
            "I love you more than all the miles that separate us right now. üíñ"
        ];

        let index = 0;
        let progress = 0;
        let isDone = false;

        function handleTap(event) {
            if (isDone) {
                celebrateMore();
                return;
            }

            const messageEl = document.getElementById('message');
            const progressEl = document.getElementById('progress');
            const percentEl = document.getElementById('percent');
            
            // Update Progress
            progress += 10;
            if (progress > 100) progress = 100;
            
            progressEl.style.width = progress + '%';
            percentEl.innerText = progress;

            // Handle Messages
            messageEl.style.opacity = 0;
            messageEl.style.transform = "translateY(15px) scale(0.95)";
            
            setTimeout(() => {
                if (progress === 100 && !isDone) {
                    messageEl.innerHTML = "<strong>100% Forgiven!</strong><br>I love you to the moon and back. Call me? ü•∞";
                    messageEl.classList.add("text-2xl");
                    isDone = true;
                    finalCelebration();
                } else if (!isDone) {
                    messageEl.innerText = messages[index];
                    index = (index + 1) % messages.length;
                }
                messageEl.style.opacity = 1;
                messageEl.style.transform = "translateY(0px) scale(1)";
            }, 250);

            // Visual Effects
            const x = event.type.includes('touch') ? event.touches[0].clientX : event.clientX;
            const y = event.type.includes('touch') ? event.touches[0].clientY : event.clientY;
            
            for(let i = 0; i < 4; i++) {
                createFloatingEmoji(x, y);
            }

            // Confetti Burst
            confetti({
                particleCount: 60,
                spread: 50,
                origin: { y: 0.75 },
                colors: ['#ff4d6d', '#ff85a1', '#ffffff']
            });

            // Mobile Haptic
            if (navigator.vibrate) navigator.vibrate(50);
        }

        function createFloatingEmoji(x, y) {
            const emoji = document.createElement('div');
            const emojis = ['‚ù§Ô∏è', 'üíñ', '‚ú®', 'üå∏', 'ü•∞', '‚≠ê', 'üßö‚Äç‚ôÄÔ∏è'];
            emoji.className = 'floating-emoji';
            emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.left = (x - 20 + (Math.random() * 40 - 20)) + 'px';
            emoji.style.top = (y - 20) + 'px';
            emoji.style.fontSize = (Math.random() * 15 + 20) + 'px';
            document.body.appendChild(emoji);
            setTimeout(() => emoji.remove(), 1800);
        }

        function finalCelebration() {
            const duration = 5 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } });
                confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } });
            }, 250);
        }

        function celebrateMore() {
            confetti({
                particleCount: 150,
                spread: 100,
                origin: { y: 0.6 }
            });
        }
    </script>
</body>
</html>
